# CraftingModule

## Призначення
Управляє чергами рецептів, їх прогресом та виплатою ресурсів гравцю.

## Залежності
- `DataBridge` — публікує стан крафту (`crafting/state`).
- `ResourcesModule` — перевіряє наявність ресурсів і додає готову продукцію.
- `UnlockService` — визначає, які рецепти доступні.
- `BonusesModule` — зчитує швидкість крафту та інші модифікатори.

## Життєвий цикл
- `initialize()` — обчислює видимі рецепти й публікує стан.
- `reset()` — очищує черги та прогрес.
- `load(data)` — застосовує збережену інформацію про черги.

## Основні методи
- `tick(deltaMs)` — просуває прогрес активних рецептів, витрачає ресурси й додає результати.
- `setRecipeQueue(id, value)` — встановлює розмір черги.
- `adjustRecipeQueue(id, delta)` — інкремент/декремент.
- `setRecipeQueueToMax(id)` — виставляє максимум, який дозволяють ресурси й бонуси.
- `getRecipeQueue(id)` — повертає поточну чергу.

## Збереження
- Зберігає для кожного рецепта чергу, прогрес та прапорець `inProgress`, якщо процес активний.

## Особливості
- Прискорює крафт залежно від бонусів (`crafting_speed_mult`).
- Стежить за доступністю рецептів та оновлює список після зміни UnlockService чи бонусів.
- Періодично публікує прогрес (кожні 100 мс), але уникає зайвих оновлень, якщо дані не змінились.
