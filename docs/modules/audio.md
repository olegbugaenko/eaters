# AudioModule

## Призначення
Відтворює музику та звукові ефекти в браузері. Зберігає налаштування гучності в localStorage, керує плейлистами та обмежує спам ефектів.

## Залежності
- Працює тільки у середовищі з `window` (музика/ефекти у Node не запускаються).
- Вбудовані або передані плейлисти (`camp`, `map` за замовчуванням).
- Налаштування гучності приходять від UI через `AudioSettingsPercentages`.

## Життєвий цикл
- `initialize()` — читає збережені налаштування, створює `<audio>` для музики.
- `reset()` — зупиняє музику та ефекти, очищує кеш елементів і таймштампи.
- `load()` / `save()` — поки що не серіалізує дані сейвів (налаштування зберігаються поза слотами).

## Основні методи
- `applyPercentageSettings(settings)` / `applySettings(settings)` — нормалізують та застосовують майстер/музичну/ефектну гучність.
- `playSoundEffect(url)` — відтворює SFX із rate-limit’ом, використовуючи шаблони `<audio>`.
- `resumeMusic()` — запускає або відновлює поточний плейлист (вибере дефолтний, якщо нічого не обрано).
- `playPlaylist(playlistId)` — примусово перемикає плейлист і починає програвання з випадкового треку.

## Збереження
Не серіалізує стан у слотах збережень; регулювання гучності читається/пише в localStorage.

## Особливості
- Обмежує частоту відтворення однакових SFX (`MIN_EFFECT_INTERVAL_MS`), щоб уникнути накладок.
- Масштабує музику коефіцієнтом (`MUSIC_VOLUME_MULTIPLIER`), дозволяючи гучніші ефекти без кліпінгу.
