# UnitAutomationModule

## Призначення
Автоматично викликає вибрані дизайни юнітів, коли некромант має достатньо ресурсів. Допомагає фармити ресурси без ручного керування.

## Залежності
- `DataBridge` — публікує стан автоматизації (`automation/state`).
- `NecromancerModule` — виконує фактичні виклики (`trySpawnDesign`).
- `UnitDesignModule` — надає активні дизайни та повідомляє про їх зміни.
- Функція `getSkillLevel` — перевіряє скіл `stone_automatons`.

## Життєвий цикл
- `initialize()` — підписується на зміни дизайнів, оновлює доступність і публікує стан.
- `reset()` — очищує позначки й оновлює місток.
- `load(data)` — відновлює ввімкнені дизайни (або типи) з сейву.

## Основні методи
- `tick(deltaMs)` — перевіряє, чи розблоковано автоматизацію, та робить до 32 спроб виклику за цикл.
- `setAutomationEnabled(designId, enabled)` — вмикає/вимикає автоматичний виклик конкретного дизайну.

## Збереження
- Зберігає мапу ввімкнених дизайнів. Якщо гравець увімкнув тип, але дизайн ще не створено, позначка потрапляє у `pendingTypeEnables` і застосовується пізніше.

## Особливості
- При зміні активних дизайнів повторно формує список юнітів у тій самій послідовності, що бачить гравець.
- Обмежує кількість автоматичних викликів за один `tick`, щоб уникнути лавиноподібного спавну.
- Під час вибору наступного дизайну враховує поточну кількість живих юнітів кожного дизайну та їхню вагу, щоб добалансувати склад ростера.
